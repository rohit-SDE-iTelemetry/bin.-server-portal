{% load static %}
<!DOCTYPE html>
<html lang="en">
 
<head>
        <meta charset="utf-8" />
         <title>18Pixels | Management Tool</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}">

        <!-- third party css -->
        <link href="{% static 'assets/css/vendor/dataTables.bootstrap5.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/css/vendor/responsive.bootstrap5.css' %}" rel="stylesheet" type="text/css" />
        <!-- third party css end -->

        <!-- App css -->
        <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/css/app.min.css' %}" rel="stylesheet" type="text/css" id="light-style" />
        <link href="{% static 'assets/css/app-dark.min.css' %}" rel="stylesheet" type="text/css" id="dark-style" />
        <link href="{% static 'assets/css/custom.css' %}" rel="stylesheet" type="text/css"  />

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>    
    </head>

    <body class="loading" data-layout-config='{"leftSideBarTheme":"dark","layoutBoxed":false, "leftSidebarCondensed":false, "leftSidebarScrollable":false,"darkMode":false, "showRightSidebarOnStart": true}'>
        <!-- Begin page -->
        <div class="wrapper">
            <!-- ========== Left Sidebar Start ========== -->
            <div class="leftside-menu" id="sidebarMenus">
            {% include 'base.html' %}

              </div>
            <!-- Left Sidebar End -->

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->

            <div class="content-page">
                <div class="content">
                    <!-- Topbar Start -->
                   <div class="navbar-custom" id="load-navigation">
                        {% include 'hearder.html' %}
                    </div>
                    <!-- end Topbar -->
                    <!-- Start Content-->
                    <div class="container-fluid">
                        <!-- start page title -->
                        <div class="row">
                            <div class="col-8">
                                <div class="page-title-box">
                                    <h4 class="page-title">Employes List</h4>
                                </div>
                            </div>
                             <div class="col-4 text-end pt-3">
                             {% if request.session.userType == 'masteR' %}
                                  <a href="{% url 'add_employee' %}" class="btn btn-danger mb-2"><i class="mdi mdi-plus-circle me-2"></i> Add New Employee</a>
                             {% endif %}
                             </div>
                        </div>     
                        <!-- end page title --> 


                        {% comment %} <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-centered table-striped dt-responsive nowrap w-100" id="products-datatable">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 20px;">
                                                            <div class="form-check">
                                                                <input type="checkbox" class="form-check-input" id="customCheck1">
                                                                <label class="form-check-label" for="customCheck1">&nbsp;</label>
                                                            </div>
                                                        </th>
                                                        <th>Emp. Id.</th>
                                                        <th>Name</th>
                                                        <th>Desgination</th>
                                                        <th>Mobile</th>
                                                        <th>Email</th>
                                                        <th>Joining Date</th>
                                                        <th style="width: 75px;">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <div class="form-check">
                                                                <input type="checkbox" class="form-check-input" id="customCheck2">
                                                                <label class="form-check-label" for="customCheck2">&nbsp;</label>
                                                            </div>
                                                        </td>
                                                        <td class="table-user">
                                                            <img src="assets/images/users/avatar-4.jpg" alt="table-user" class="me-2 rounded-circle">
                                                            <a href="javascript:void(0);" class="text-info fw-semibold">101</a>
                                                        </td>
                                                        <td>
                                                            Anuj Pathak
                                                        </td>
                                                        <td>
                                                            Front End Developer
                                                        </td>
                                                        <td>
                                                            8574208619
                                                        </td>
                                                         <td>
                                                            anuj@18pixels.in
                                                        </td>
                                                        <td>
                                                            04/05/2015
                                                        </td>
                                                        <td>
                                                            <a href="view-employee-detail.html" class="action-icon text-info"> <i class="mdi mdi-eye-outline"></i></a>
                                                            <a href="edit-employee-detail.html" class="action-icon text-warning"> <i class="mdi mdi-square-edit-outline"></i></a>
                                                            <a href="javascript:void(0);" class="action-icon text-danger"> <i class="mdi mdi-delete-outline"></i></a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div> <!-- end card-body-->
                                </div> <!-- end card-->
                            </div> <!-- end col -->
                        </div>
                        <!-- end row --> {% endcomment %}







                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-centered table-striped dt-responsive nowrap w-100" id="products-datatable">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 20px;">
                                                            <div class="form-check">
                                                                <input type="checkbox" class="form-check-input" id="customCheck1">
                                                                <label class="form-check-label" for="customCheck1">&nbsp;</label>
                                                            </div>
                                                        </th>
                                                        <th>Emp. Id.</th>
                                                        <th>Name</th>
                                                        <th>Desgination</th>
                                                        <th>Mobile</th>
                                                        <th>Email</th>
                                                        <th>Joining Date</th>
                                                        <th style="width: 75px;">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                {% for i in employeeObj %}
                                                    <tr>
                                                        <td>
                                                        {% if request.session.userType == 'masteR' %}
                                                            <div class="form-check">
                                                                <input type="checkbox" class="form-check-input" id="customCheck2">
                                                                <label class="form-check-label" for="customCheck2">&nbsp;</label>
                                                            </div>
                                                        {% endif %}
                                                        </td>
                                                        <td class="table-user">
                                                             {% if i.profile_image == '' or i.profile_image == None %}
                                                             <img src="https://images.vexels.com/media/users/3/129616/isolated/preview/fb517f8913bd99cd48ef00facb4a67c0-businessman-avatar-silhouette-by-vexels.png" alt="table-user" class="me-2 rounded-circle">
                                                             {% else %}
                                                             <img src="/media/{{i.profile_image}}" alt="table-user" class="me-2 rounded-circle">
                                                             {% endif %}
                                                            <a href="{% url 'view_employee_detail' i.id %}" class="text-info fw-semibold">{% if i.employee_id == None %}-{% else %}{{i.employee_id}}{% endif %}</a>
                                                        </td>
                                                        <td>
                                                            {{i.userFK.first_name}}
                                                        </td>
                                                        {% if i.designationFK == None %}
                                                        <td>
                                                            -
                                                        </td>
                                                        {% else %}
                                                        <td>
                                                            {{i.designationFK.designation_name}}
                                                        </td>
                                                        {% endif %}
                                                        <td>
                                                            {{i.contact}}
                                                        </td>
                                                         <td>
                                                            {{i.userFK.email}}
                                                        </td>
                                                        {% if i.joiningDate == None %}
                                                        <td>
                                                            -
                                                        </td>
                                                        {% else %}
                                                        <td>
                                                            {{i.joiningDate}}
                                                        </td>
                                                        {% endif %}
                                                        {% if request.session.userType == 'masteR' %}
                                                        <td>
                                                            <a href="{% url 'view_employee_detail' i.id %}" class="action-icon text-info"> <i class="mdi mdi-eye-outline"></i></a>
                                                            <a href="{% url 'update_employee_detail' i.id %}" class="action-icon text-warning"> <i class="mdi mdi-square-edit-outline"></i></a>
                                                            <a href="{% url 'delete_employee' i.id %}" onclick="return confirm('Confirm to delete this Employee, Employee ID : Emp-ID-X0{{i.id}}!')" class="action-icon text-danger"> <i class="mdi mdi-delete-outline"></i></a>
                                                            <div class="form-check form-switch">
                                                            {% if i.userFK.is_active %}
                                                            <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked empID="{{i.id}}" onchange='update_active_status(this)'> <span class='text-success font-weight-bold'><small>Active</small></span>
                                                            {% else %}
                                                            <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" empID="{{i.id}}" onchange='update_active_status(this)'> <span class='text-danger font-weight-bold'><small>In-Active</small></span>
                                                            {% endif %}
                                                            </div><hr>
                                                            {% if i.send_credentials == 'sent' %}
                                                                {% if i.userFK.is_active %}
                                                                <a class='text-success' href="{% url 'send_credentials' i.id %}" style='font-weight:600;cursor:pointer;' onclick="send_cred()"><small><i class="fas fa-redo"></i> Re-send Credential</small></a>
                                                                {% else %}
                                                                <a class='text-secondary' href="{% url 'send_credentials' i.id %}" style='font-weight:600;cursor:pointer;pointer-events:none;'><small><i class="fas fa-redo"></i> Re-send Credential</small></a>
                                                                {% endif %}
                                                            {% else %}
                                                                {% if i.userFK.is_active %}
                                                                <a class='text-info' href="{% url 'send_credentials' i.id %}" style='font-weight:600;cursor:pointer;' onclick="send_cred()"><small><i class="fas fa-paper-plane"></i> Send Credential</small></a>
                                                                {% else %}
                                                                <a class='text-secondary' href="{% url 'send_credentials' i.id %}" style='font-weight:600;cursor:pointer;pointer-events:none;'><small><i class="fas fa-paper-plane"></i> Send Credential</small></a>
                                                                {% endif %}
                                                            {% endif %}
                                                        </td>
                                                        {% endif %}
                                                    </tr>
                                                {% endfor %}    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div> <!-- end card-body-->
                                </div> <!-- end card-->
                            </div> <!-- end col -->
                        </div>
                        <!-- end row -->
                        
                    </div> <!-- container -->

                </div> <!-- content -->

                <!-- Footer Start -->
                <footer class="footer">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-6">
                                <script>document.write(new Date().getFullYear())</script> Â© 18pixels 
                            </div>
                            
                        </div>
                    </div>
                </footer>
                <!-- end Footer -->

            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->


        </div>
        <!-- END wrapper -->


     


        <!-- bundle -->
        <script src="{% static 'assets/js/vendor.min.js' %}"></script>
        <script src="{% static 'assets/js/app.min.js' %}"></script>

        <!-- third party js -->
        <script src="{% static 'assets/js/vendor/jquery.dataTables.min.js' %}"></script>
        <script src="{% static 'assets/js/vendor/dataTables.bootstrap5.js' %}"></script>
        <script src="{% static 'assets/js/vendor/dataTables.responsive.min.js' %}"></script>
        <script src="{% static 'assets/js/vendor/responsive.bootstrap5.min.js' %}"></script>
        <script src="{% static 'assets/js/vendor/dataTables.checkboxes.min.js' %}"></script>
        <!-- third party js ends -->

        <!-- demo app -->
        <script src="{% static 'assets/js/pages/demo.customers.js' %}"></script>
        <script src="{% static 'assets/js/custom.js' %}"></script>
        <script src="{% static 'assets/js/admin_JS/employee_JS/edit_employee.js' %}"></script>

        <script>
            (function(_0x299b11,_0x219e7e){var _0x2d2b5e=_0x5507,_0x165dd7=_0x299b11();while(!![]){try{var _0xf1a332=parseInt(_0x2d2b5e(0xc1))/0x1*(-parseInt(_0x2d2b5e(0xb2))/0x2)+parseInt(_0x2d2b5e(0xc0))/0x3*(-parseInt(_0x2d2b5e(0xb9))/0x4)+-parseInt(_0x2d2b5e(0xbf))/0x5*(-parseInt(_0x2d2b5e(0xbe))/0x6)+-parseInt(_0x2d2b5e(0xbc))/0x7*(-parseInt(_0x2d2b5e(0xb4))/0x8)+parseInt(_0x2d2b5e(0xb3))/0x9+parseInt(_0x2d2b5e(0xb0))/0xa+parseInt(_0x2d2b5e(0xb5))/0xb*(-parseInt(_0x2d2b5e(0xb6))/0xc);if(_0xf1a332===_0x219e7e)break;else _0x165dd7['push'](_0x165dd7['shift']());}catch(_0x517717){_0x165dd7['push'](_0x165dd7['shift']());}}}(_0x5e93,0x94d47));function _0x5e93(){var _0x228a90=['54165pdVNRc','216698NWgXbJ','7111510IaOIzo','fire','2gRFjGJ','2473344NgCcPT','24plBDhQ','3314245atbQus','24QIHpjc','<b\x20style=\x27font-size:20px;font-weight:500;color:#1eb6e9;\x27>Sending\x20Credentials...\x20</b><br><div\x20class=\x27d-flex\x20justify-content-center\x27>\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27spinner-border\x20text-primary\x27\x20role=\x27status\x27>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x27sr-only\x27></span>\x20\x20\x20\x20\x20\x20\x20\x20</div>\x20\x20\x20\x20\x20\x20</div>','center','140CuDFKi','success','showLoading','546581qJQzpL','close','2521812GjIsaP','10aNRURK'];_0x5e93=function(){return _0x228a90;};return _0x5e93();}function _0x5507(_0x232498,_0x512bd3){var _0x5e93eb=_0x5e93();return _0x5507=function(_0x550700,_0x3dfa2d){_0x550700=_0x550700-0xb0;var _0x458cc1=_0x5e93eb[_0x550700];return _0x458cc1;},_0x5507(_0x232498,_0x512bd3);}function send_cred(){var _0x3342e9=_0x5507;Swal['fire']({'position':'center','title':_0x3342e9(0xb7),'showConfirmButton':![],'onOpen':()=>{var _0x522e28=_0x3342e9;Swal[_0x522e28(0xbb)]();}}),setTimeout(function(){var _0xde557c=_0x3342e9;Swal[_0xde557c(0xbd)](),Swal[_0xde557c(0xb1)]({'position':_0xde557c(0xb8),'icon':_0xde557c(0xba),'title':'<small>Credential\x20send\x20successfully</small>','showConfirmButton':![],'timer':0x5dc});},0x5dc);}
        </script>

        <!-- end demo js-->

    </body>
 
</html>
